**Задача 1: API Gateway**

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:

 - маршрутизация запросов к нужному сервису на основе конфигурации,

 - возможность проверки аутентификационной информации в запросах,

 - обеспечение терминации HTTPS.

Обоснуйте свой выбор.

---- 

### Ответ

Проанализировав популярные  API Gateway шлюзы, составил таблицу

| **Приложение**                | **Kong Gateway**   | **Tyk** | **Goku** | **Amazon Gateway** | **KrakenD** | **Yandex API Gateway** |
|:--------------------------:|:----------:|:----------:|:----------:|:---------------:|:-----------------:|:-----------:|
| **Маршрутизация запросов** | +          | +          | +          | +               | +                 | +           |
| **Аутентификация**         | +          | +          | +          | +               | +                 | +           |
| **HTTPS**                | +          | +          | +          | +               | +                 | +           |

При выборе шлюза надо определиться где распологается инфраструктура, если это облочные провайдеры, AWS или YANDEX то я бы выбирал именно их решения. 
Если выбираем что то для себя на своей инфраструктуре, то тут выбор в цело велик тоже, можно уходить в детали и выбрать действительно удобный инструмент. 
Например можно выбрать между Kong Gateway и KrakenD.

**Kong Gateway**

Kong's API Gateway обеспечивает высокую производительность, обеспечивая при этом уровень гибкости развертывания, который высоко ценится инженерами-программистами. Служба построена на NGINX Open Source и поддерживает относительно небольшой размер. Однако важно отметить, что это решение требует использования скриптов Lua и внешних баз данных для обработки конфигураций шлюза и политик API. Несмотря на эти требования, высокая производительность и гибкость Kong's API Gateway делают его привлекательным решением в сфере управления API.

**KrakenD**

KrakenD служит в качестве распределенного высокопроизводительного API Gateway без сохранения состояния, который поддерживает организации на пути к внедрению микросервисов. KrakenD охватывает бэкэнд для шаблонов фронтенда и микро-фронтенда, эффективно изолируя клиента в коммуникациях микросервисов и тем самым обеспечивая надежную развязку клиент-сервер. Такой подход повышает масштабируемость и устойчивость, которые являются двумя жизненно важными элементами в архитектуре микросервисов. Еще одной примечательной особенностью KrakenD является его подход «конфигурация как код», который находит отклик у разработчиков, упрощая настройку и обслуживание, что приводит к повышению эффективности процессов разработки программного обеспечения.

Я бы остановился и на решении **Kong Gateway**
У него есть публичная версия, которая закрывает все потребности в задании, и при необходимости можно всегда приобрести платную версию, для расширения возможности. 

А если исходить из вообще бесплатного, то наверное самый бюджетный вариант, это Nginx и настройка под свои нужды с нуля. 

---- 

**Задача 2: Брокер сообщений**

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

---- 
### Ответ

| **Приложение**                                               | **RabbitMQ**             | **Redis**            |
|:---------------------------------------------------------:|:------------------------:|:--------------------:|
| **Поддержка кластеризации**                               | Да                       | Да        |
| **Хранение сообщений на диске в процессе доставки**       | Да                       | Да                   |
| **Высокая скорость работы**                               | Высокая                  | Высокая        |
| **Поддержка различных форматов сообщений**                | AMQP MQTT STOMP,JSON, XML| RedisJSON, RESP      |
| **Разделение прав доступа к различным потокам сообщений** | Да                       | Да                   |
| **Проcтота эксплуатации**                                 | Высокая                  | Высокая              |

При выборе брокера сообщений я расматривал два решения RabbitMQ и Redis
Опять же все зависит от конфигурации инфраструктуры и задач. 
RabbitMQ - полноценный сервер очередей, имеющий под капотом "свою" базу данных. 
Redis - база данных, над которой можно построить сервер очередей. 

Выбор брокера сообщений зависит от конкретных требований вашего проекта. Если вам нужна высокая скорость и простота интеграции, возможно, Redis будет лучшим выбором. Однако его лучше использовать для легких решений, а не для серьезных задач по обеспечению надежности. Если важна надежность и гибкость – обратите внимание на RabbitMQ. Он относительно легко настраивается, но может столкнуться с трудностями при работе с очень большими объемами данных. 
